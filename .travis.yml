---

language: go

# use the latest ubuntu environment available on travis
# see: https://docs.travis-ci.com/user/reference/linux/
dist: jammy

go:
  - 1.16.x
  - 1.17.x
  - 1.18.x

script:
  - make

before_deploy:
  - make VERSION=${TRAVIS_TAG} release -j2

deploy:
  provider: releases
  api_key: ${GITHUB_TOKEN}
  file: release/*
  file_glob: true
  skip_cleanup: true
  on:
    tags: true
